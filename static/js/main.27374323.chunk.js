(this.webpackJsonpruby840124=this.webpackJsonpruby840124||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),s=a(2),o=a.n(s),l=(a(13),a(3)),r=a(4),c=a(6),h=a(5),d=a(7),m=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(h.a)(t).call(this,e))).handleScreenShot=function(e){a.setState((function(e){return{isToggleOn:!e.isToggleOn}})),1==a.state.isToggleOn?a.setState({wecamDisplay:"none",screenDisplay:"inline"}):a.setState({wecamDisplay:"inline",screenDisplay:"none"})},a.handleSave=function(e){var t=document.getElementById("webcamCanvas").toDataURL("image/jpg");a.setState({href:t})},a.handleZoomIn=function(e){var t=a.state.scaleWidth-(1.2*a.state.width-a.state.width)/2,i=a.state.scaleHeight-(1.2*a.state.height-a.state.height)/2,n=a.state.width;n*=1.2;var s=a.state.height;s*=1.2,a.setState({width:n,height:s,scaleWidth:t,scaleHeight:i})},a.handleZoomOut=function(e){var t=a.state.scaleWidth+(a.state.width-a.state.width/2)/2,i=a.state.scaleHeight+(a.state.height-a.state.height/2)/2,n=a.state.width;n/=2;var s=a.state.height;s/=2,a.setState({width:n,height:s,scaleWidth:t,scaleHeight:i})},a.state={wecamDisplay:"inline",screenDisplay:"none",filter:"sepia",isToggleOn:!0,herf:"",width:800,height:500,scaleWidth:0,scaleHeight:0},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.webcam(),this.timerID=setInterval((function(){return e.webcamToCanvas()}),100)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"webcam",value:function(){var e=document.querySelector("#video"),t=document.querySelector("#filter1"),a=document.querySelector("#filter2"),i=document.querySelector("#filter3"),n={video:{width:this.state.width,height:this.state.height}};navigator.mediaDevices.getUserMedia(n).then((function(n){window.stream=n,e.srcObject=n,t.srcObject=n,a.srcObject=n,i.srcObject=n})).catch((function(e){"ConstraintNotSatisfiedError"===e.name?alert("The resolution "+n.video.width.exact+"x"+n.video.width.exact+" px is not supported by your device."):"PermissionDeniedError"===e.name&&alert("Permissions have not been granted to use your camera and microphone, you need to allow the page access to your devices in order for the demo to work."),alert("getUserMedia error: "+e.name,e)}))}},{key:"webcamToCanvas",value:function(){if(1==this.state.isToggleOn){var e=document.querySelector("#video"),t=document.querySelector("#webcamCanvas");t.width=e.videoWidth,t.height=e.videoHeight,t.getContext("2d").drawImage(e,this.state.scaleWidth,this.state.scaleHeight,this.state.width,this.state.height)}}},{key:"render",value:function(){var e=null;e=this.state.isToggleOn?"webcam":"screenShot";var t=null;t=this.state.isToggleOn?"screenShot":"webcam";var a=["grayfilter","sepia","blur","invert"];return n.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},n.a.createElement("div",null,n.a.createElement("canvas",{id:"webcamCanvas"}),n.a.createElement("video",{style:{display:"none"},id:"video",autoPlay:!0},"Your browser does not support HTML5 video."),n.a.createElement("h1",{style:{textAlign:"center",fontFamily:"ProximaNova-Bold"}},e)),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("button",{className:"buttonStyle",onClick:this.handleScreenShot},t),n.a.createElement("a",{id:"download",download:"screenshot.jpg",href:this.state.href,style:{display:this.state.screenDisplay},onClick:this.handleSave},n.a.createElement("button",null,"Save")),n.a.createElement("button",{className:"buttonStyle",onClick:this.handleZoomIn,style:{display:this.state.wecamDisplay}},"zoom in"),n.a.createElement("button",{className:"buttonStyle",onClick:this.handleZoomOut,style:{display:this.state.wecamDisplay}},"zoom out")),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("video",{className:a[0],id:"filter1",style:{display:this.state.wecamDisplay},autoPlay:!0}),n.a.createElement("video",{className:a[1],id:"filter2",style:{display:this.state.wecamDisplay},autoPlay:!0}),n.a.createElement("video",{className:a[2],id:"filter3",style:{display:this.state.wecamDisplay},autoPlay:!0})))}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(m,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.27374323.chunk.js.map